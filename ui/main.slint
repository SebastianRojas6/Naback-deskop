import { Menu } from "menu.slint";
import { Photos } from "photos.slint";
import { Cards } from "cards.slint";
import { Game } from "game.slint";

export { Menu, Photos, Cards , Game}

export component MainWrapper inherits Window {
    property <int> current_page: 0;
    callback navigate_to_game;

    Menu {
        width: parent.width;
        height: parent.height;
        visible: root.current_page == 0;

        go_to_photos => {
            root.current_page = 1;
        }
        go_to_game => {
            root.current_page = 2;
            root.navigate_to_game();
        }

        go_to_cards => {
            root.current_page = 3;
        }
    }

    Photos {
        width: parent.width;
        height: parent.height;
        visible: root.current_page == 1;

        go_to_game => {
            root.current_page = 2;
            root.navigate_to_game();
        }
    }

    Game {
        width: parent.width;
        height: parent.height;
        visible: root.current_page == 2;

        go_to_photos => {
            root.current_page = 1;
        }

        go_to_cards => {
            root.current_page = 3;
        }
    }

    Cards {
        width: parent.width;
        height: parent.height;
        visible: root.current_page == 3;

        go_to_game => {
            root.current_page = 2;
            root.navigate_to_game();
        }
    }
}
